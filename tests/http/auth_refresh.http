// POST

############################################################
### íšŒì›ê°€ì…
############################################################

POST http://127.0.0.1:8000/api/v1/auth/signup
Content-Type: application/json
Accept: application/json

{
  "email": "test2@example.com",
  "nickname": "testuser2",
  "password": "Password123!"
}

############################################################
### ë¡œê·¸ì¸
# ì„±ê³µ ì‹œ Set-Cookieë¡œ access_token, refresh_token ë‚´ë ¤ì™€ì•¼ í•¨
# ğŸ‘‰ Response Headers í™•ì¸
############################################################

POST http://127.0.0.1:8000/api/v1/auth/login
Content-Type: application/json
Accept: application/json

{
  "email": "test2@example.com",
  "password": "Password123!"
}

###
# âœ… í™•ì¸ í¬ì¸íŠ¸
# - Set-Cookie: access_token=...
# - Set-Cookie: refresh_token=...

############################################################
### ë³´í˜¸ API ì ‘ê·¼ í…ŒìŠ¤íŠ¸ (access cookie ìë™ ì‚¬ìš©)
# get_current_user ì •ìƒ ë™ì‘ í™•ì¸
############################################################

GET http://127.0.0.1:8000/api/v1/users/me
Accept: application/json

###
# âœ… 200 OK ê¸°ëŒ€
# í˜„ì¬ ë¡œê·¸ì¸ ì‚¬ìš©ì ì •ë³´ ë°˜í™˜

############################################################
### Refresh í† í° ì¬ë°œê¸‰ í…ŒìŠ¤íŠ¸ (Rotation í™•ì¸)
############################################################

POST http://127.0.0.1:8000/api/v1/auth/refresh
Accept: application/json

###
# âœ… í™•ì¸ í¬ì¸íŠ¸
# - Set-Cookie ë‹¤ì‹œ ë‚´ë ¤ì™€ì•¼ í•¨
# - refresh_token ê°’ì´ ì´ì „ê³¼ ë‹¬ë¼ì§ (rotation)

############################################################
### ì¬ë°œê¸‰ í›„ ë³´í˜¸ API ì¬í˜¸ì¶œ
############################################################

GET http://127.0.0.1:8000/api/v1/users/me
Accept: application/json

###
# âœ… ì—¬ì „íˆ 200 OK

############################################################
### ë¡œê·¸ì•„ì›ƒ
# Redis session ì‚­ì œ + Cookie ì œê±°
############################################################

POST http://127.0.0.1:8000/api/v1/auth/logout
Accept: application/json

###
# âœ… Set-Cookie ì‚­ì œ í™•ì¸
# access_token=; Max-Age=0
# refresh_token=; Max-Age=0

############################################################
### ë¡œê·¸ì•„ì›ƒ ì´í›„ ì ‘ê·¼ (ì‹¤íŒ¨í•´ì•¼ ì •ìƒ)
############################################################

GET http://127.0.0.1:8000/api/v1/users/me
Accept: application/json

###
# âœ… 401 LOGIN_UNAUTHORIZED ê¸°ëŒ€
